<template>
  <div>
    <div v-if="!pending" class="container careers-page">
      <div class="text">
        <h3 class="heading-text">{{$t('emp')}}</h3>
      </div>

      <div class="careers">
        <div class="row justify-content-around">
          <div class="col-12 col-xl-5 col-lg-5">
            <div>
              <h4> {{ $t('emp2') }} </h4>
              <div class="boxes">
                <div
                  v-for="item in contactData"
                  class="box"
                  @click="activeBoxId = item.id"
                  :class="{ active: activeBoxId == item.id }"
                >
                  <div class="image">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="32"
                      height="28"
                      viewBox="0 0 32 28"
                      fill="none"
                    >
                      <path
                        d="M29.3333 4.66657H22.6667V3.33319C22.6667 1.8625 21.4708 0.666504 20 0.666504H12C10.5293 0.666504 9.33331 1.86244 9.33331 3.33319V4.6665H2.66669C1.19594 4.66657 0 5.8625 0 7.33319V11.3332C0 12.8039 1.19594 13.9999 2.66669 13.9999H13.3334V13.3332C13.3334 12.9647 13.6316 12.6665 14.0001 12.6665H18.0001C18.3686 12.6665 18.6667 12.9647 18.6667 13.3332V13.9999H29.3334C30.8041 13.9999 32 12.8039 32 11.3332V7.33319C32 5.8625 30.8041 4.66657 29.3333 4.66657ZM20 4.66657H12V3.33319H20V4.66657Z"
                        fill="#90A3BF"
                      />
                      <path
                        d="M31.6302 14.7193C31.403 14.6067 31.1315 14.6328 30.9309 14.7851C30.457 15.1438 29.9049 15.3333 29.3333 15.3333H18.6667V17.3333C18.6667 17.7018 18.3685 18 18 18H14C13.6315 18 13.3333 17.7018 13.3333 17.3333V15.3333H2.66669C2.09506 15.3333 1.543 15.1438 1.069 14.7851C0.867813 14.6315 0.597 14.6054 0.36975 14.7193C0.14325 14.832 0 15.0631 0 15.3164V24.6666C0 26.1373 1.19594 27.3333 2.66669 27.3333H29.3334C30.8041 27.3333 32.0001 26.1374 32.0001 24.6666V15.3164C32 15.0631 31.8568 14.832 31.6302 14.7193Z"
                        fill="#90A3BF"
                      />
                    </svg>
                  </div>
                  <div class="d-flex flex-column gap-3">
                    <h6>{{ item.title }}</h6>
                    <span>{{ item.city.name }} | {{ item.work_type }}</span>
                  </div>
                </div>
              </div>
              <div class="contact">
                <h4> {{ $t('contct2') }} </h4>
                <div v-if="socials" class="icons ">
                  <div class="iconn">
                    <a :href="socials.youtube" target="_blank">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                      >
                        <path
                          d="M19.8008 6C19.8008 6 19.6055 4.62109 19.0039 4.01563C18.2422 3.21875 17.3906 3.21484 17 3.16797C14.2031 2.96484 10.0039 2.96484 10.0039 2.96484H9.99609C9.99609 2.96484 5.79688 2.96484 3 3.16797C2.60938 3.21484 1.75781 3.21875 0.996094 4.01563C0.394531 4.62109 0.203125 6 0.203125 6C0.203125 6 0 7.62109 0 9.23828V10.7539C0 12.3711 0.199219 13.9922 0.199219 13.9922C0.199219 13.9922 0.394531 15.3711 0.992187 15.9766C1.75391 16.7734 2.75391 16.7461 3.19922 16.832C4.80078 16.9844 10 17.0313 10 17.0313C10 17.0313 14.2031 17.0234 17 16.8242C17.3906 16.7773 18.2422 16.7734 19.0039 15.9766C19.6055 15.3711 19.8008 13.9922 19.8008 13.9922C19.8008 13.9922 20 12.375 20 10.7539V9.23828C20 7.62109 19.8008 6 19.8008 6ZM7.93359 12.5938V6.97266L13.3359 9.79297L7.93359 12.5938Z"
                          fill="#2D3A4A"
                        />
                      </svg>
                    </a>
                  </div>
                <!-- <div class="col-4 col-xl-2 col-lg-2 col-md-4">
                
                </div> -->
                  <div class="iconn">
                    <a :href="socials.instagram" target="_blank">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                      >
                        <g clip-path="url(#clip0_329_29609)">
                          <path
                            d="M10 1.80078C12.6719 1.80078 12.9883 1.8125 14.0391 1.85937C15.0156 1.90234 15.543 2.06641 15.8945 2.20313C16.3594 2.38281 16.6953 2.60156 17.043 2.94922C17.3945 3.30078 17.6094 3.63281 17.7891 4.09766C17.9258 4.44922 18.0898 4.98047 18.1328 5.95312C18.1797 7.00781 18.1914 7.32422 18.1914 9.99219C18.1914 12.6641 18.1797 12.9805 18.1328 14.0313C18.0898 15.0078 17.9258 15.5352 17.7891 15.8867C17.6094 16.3516 17.3906 16.6875 17.043 17.0352C16.6914 17.3867 16.3594 17.6016 15.8945 17.7813C15.543 17.918 15.0117 18.082 14.0391 18.125C12.9844 18.1719 12.668 18.1836 10 18.1836C7.32813 18.1836 7.01172 18.1719 5.96094 18.125C4.98438 18.082 4.45703 17.918 4.10547 17.7813C3.64063 17.6016 3.30469 17.3828 2.95703 17.0352C2.60547 16.6836 2.39063 16.3516 2.21094 15.8867C2.07422 15.5352 1.91016 15.0039 1.86719 14.0313C1.82031 12.9766 1.80859 12.6602 1.80859 9.99219C1.80859 7.32031 1.82031 7.00391 1.86719 5.95312C1.91016 4.97656 2.07422 4.44922 2.21094 4.09766C2.39063 3.63281 2.60938 3.29688 2.95703 2.94922C3.30859 2.59766 3.64063 2.38281 4.10547 2.20313C4.45703 2.06641 4.98828 1.90234 5.96094 1.85937C7.01172 1.8125 7.32813 1.80078 10 1.80078ZM10 0C7.28516 0 6.94531 0.0117187 5.87891 0.0585938C4.81641 0.105469 4.08594 0.277344 3.45313 0.523438C2.79297 0.78125 2.23438 1.12109 1.67969 1.67969C1.12109 2.23438 0.78125 2.79297 0.523438 3.44922C0.277344 4.08594 0.105469 4.8125 0.0585938 5.875C0.0117188 6.94531 0 7.28516 0 10C0 12.7148 0.0117188 13.0547 0.0585938 14.1211C0.105469 15.1836 0.277344 15.9141 0.523438 16.5469C0.78125 17.207 1.12109 17.7656 1.67969 18.3203C2.23438 18.875 2.79297 19.2188 3.44922 19.4727C4.08594 19.7188 4.8125 19.8906 5.875 19.9375C6.94141 19.9844 7.28125 19.9961 9.99609 19.9961C12.7109 19.9961 13.0508 19.9844 14.1172 19.9375C15.1797 19.8906 15.9102 19.7188 16.543 19.4727C17.1992 19.2188 17.7578 18.875 18.3125 18.3203C18.8672 17.7656 19.2109 17.207 19.4648 16.5508C19.7109 15.9141 19.8828 15.1875 19.9297 14.125C19.9766 13.0586 19.9883 12.7188 19.9883 10.0039C19.9883 7.28906 19.9766 6.94922 19.9297 5.88281C19.8828 4.82031 19.7109 4.08984 19.4648 3.45703C19.2188 2.79297 18.8789 2.23438 18.3203 1.67969C17.7656 1.125 17.207 0.78125 16.5508 0.527344C15.9141 0.28125 15.1875 0.109375 14.125 0.0625C13.0547 0.0117188 12.7148 0 10 0Z"
                            fill="#2D3A4A"
                          />
                          <path
                            d="M10 4.86328C7.16406 4.86328 4.86328 7.16406 4.86328 10C4.86328 12.8359 7.16406 15.1367 10 15.1367C12.8359 15.1367 15.1367 12.8359 15.1367 10C15.1367 7.16406 12.8359 4.86328 10 4.86328ZM10 13.332C8.16016 13.332 6.66797 11.8398 6.66797 10C6.66797 8.16016 8.16016 6.66797 10 6.66797C11.8398 6.66797 13.332 8.16016 13.332 10C13.332 11.8398 11.8398 13.332 10 13.332Z"
                            fill="#2D3A4A"
                          />
                          <path
                            d="M16.5391 4.66016C16.5391 5.32422 16 5.85938 15.3398 5.85938C14.6758 5.85938 14.1406 5.32031 14.1406 4.66016C14.1406 3.99609 14.6797 3.46094 15.3398 3.46094C16 3.46094 16.5391 4 16.5391 4.66016Z"
                            fill="#2D3A4A"
                          />
                        </g>
                        <defs>
                          <clipPath id="clip0_329_29609">
                            <rect width="20" height="20" fill="white" />
                          </clipPath>
                        </defs>
                      </svg>
                    </a>
                  </div>
                <!-- <div class="col-4 col-xl-2 col-lg-2 col-md-4">
                
                </div> -->

                  <div class="iconn">
                    <a :href="socials.facebook" target="_blank">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                      >
                        <g clip-path="url(#clip0_329_29607)">
                          <path
                            d="M10 0C4.4772 0 0 4.4772 0 10C0 14.6896 3.2288 18.6248 7.5844 19.7056V13.056H5.5224V10H7.5844V8.6832C7.5844 5.2796 9.1248 3.702 12.4664 3.702C13.1 3.702 14.1932 3.8264 14.6404 3.9504V6.7204C14.4044 6.6956 13.9944 6.6832 13.4852 6.6832C11.8456 6.6832 11.212 7.3044 11.212 8.9192V10H14.4784L13.9172 13.056H11.212V19.9268C16.1636 19.3288 20.0004 15.1128 20.0004 10C20 4.4772 15.5228 0 10 0Z"
                            fill="#2D3A4A"
                          />
                        </g>
                        <defs>
                          <clipPath id="clip0_329_29607">
                            <rect width="20" height="20" fill="white" />
                          </clipPath>
                        </defs>
                      </svg>
                    </a>
                  </div>
                <!-- <div class="col-4 col-xl-2 col-lg-2 col-md-4">
                
                </div> -->

                  <div class="iconn">
                    <a :href="socials.snapchat" target="_blank">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                      >
                        <path
                          d="M19.9277 14.5479C19.7898 14.17 19.5242 13.9657 19.2229 13.8023C19.1667 13.7716 19.1157 13.741 19.0697 13.7206C18.9778 13.6746 18.8858 13.6286 18.7939 13.5827C17.8542 13.0822 17.1188 12.4591 16.6131 11.7135C16.4701 11.5041 16.3425 11.2794 16.2403 11.0495C16.1944 10.927 16.1995 10.8555 16.2301 10.7891C16.2608 10.738 16.3016 10.6971 16.3527 10.6614C16.5161 10.5541 16.6795 10.4469 16.7919 10.3754C16.9911 10.2426 17.1545 10.1405 17.2567 10.069C17.6397 9.79828 17.9104 9.51228 18.0789 9.19053C18.3189 8.7411 18.3496 8.21506 18.1657 7.74009C17.9104 7.06595 17.2771 6.65227 16.5059 6.65227C16.3425 6.65227 16.1841 6.66759 16.0207 6.70334C15.9799 6.71356 15.9339 6.72377 15.893 6.73398C15.8981 6.27434 15.8879 5.78916 15.8471 5.30909C15.7041 3.62883 15.1116 2.7504 14.4988 2.05072C14.1055 1.61151 13.6459 1.23868 13.1301 0.947576C12.2006 0.416431 11.1434 0.145752 9.99427 0.145752C8.84516 0.145752 7.79309 0.416431 6.86359 0.947576C6.34776 1.23868 5.88812 1.61151 5.49487 2.05072C4.88201 2.7504 4.29469 3.63394 4.14658 5.30909C4.10572 5.78916 4.09551 6.27434 4.10061 6.73398C4.05976 6.72377 4.0189 6.71356 3.97294 6.70334C3.81461 6.66759 3.65119 6.65227 3.49286 6.65227C2.72168 6.65227 2.0884 7.07106 1.83304 7.74009C1.64918 8.21506 1.67982 8.7411 1.91986 9.19053C2.0884 9.51228 2.35907 9.79828 2.74211 10.069C2.84425 10.1405 3.00258 10.2426 3.20686 10.3754C3.31411 10.4469 3.47243 10.549 3.63076 10.6512C3.68694 10.6869 3.7329 10.7329 3.76865 10.7891C3.79929 10.8555 3.8044 10.927 3.75333 11.0597C3.65119 11.2845 3.52861 11.5041 3.38561 11.7084C2.89022 12.4336 2.17522 13.0515 1.26614 13.5469C0.78607 13.8023 0.285569 13.9708 0.0710683 14.5479C-0.0872535 14.982 0.0148896 15.4723 0.418355 15.8911C0.566463 16.0443 0.740106 16.1771 0.929071 16.2793C1.32232 16.4938 1.74111 16.6623 2.18032 16.7798C2.27225 16.8053 2.35397 16.841 2.43057 16.8921C2.57868 17.0198 2.55825 17.2139 2.75233 17.4999C2.84936 17.648 2.97704 17.7757 3.12004 17.8778C3.53372 18.1638 3.99847 18.1791 4.48876 18.1996C4.93308 18.2149 5.43358 18.2353 6.01069 18.4243C6.25073 18.5009 6.49587 18.6541 6.78187 18.8328C7.47134 19.2567 8.41106 19.8338 9.98917 19.8338C11.5673 19.8338 12.5121 19.2516 13.2067 18.8277C13.4927 18.6541 13.7378 18.5009 13.9676 18.4243C14.5396 18.2353 15.0453 18.2149 15.4896 18.1996C15.9799 18.1791 16.4446 18.1638 16.8583 17.8778C17.0319 17.7552 17.1749 17.602 17.2771 17.4182C17.4201 17.1781 17.415 17.0096 17.5478 16.8921C17.6193 16.841 17.701 16.8053 17.7827 16.7849C18.2219 16.6674 18.6509 16.4989 19.0493 16.2793C19.2484 16.172 19.4323 16.029 19.5855 15.8605L19.5906 15.8554C19.989 15.4468 20.086 14.9667 19.9277 14.5479ZM18.5283 15.2987C17.6754 15.7685 17.1034 15.7175 16.6642 16.0035C16.2863 16.2435 16.511 16.7644 16.2403 16.9534C15.9033 17.1832 14.9125 16.9381 13.6357 17.362C12.5785 17.7093 11.9095 18.7154 10.0096 18.7154C8.10973 18.7154 7.45602 17.7144 6.38351 17.362C5.10673 16.9381 4.11594 17.1883 3.77886 16.9534C3.50819 16.7644 3.72779 16.2435 3.35497 16.0035C2.91065 15.7175 2.34375 15.7685 1.49086 15.2987C0.944392 14.9974 1.25593 14.8135 1.43468 14.7267C4.52962 13.2303 5.02501 10.9167 5.04544 10.7431C5.07097 10.5337 5.10162 10.3703 4.8718 10.1609C4.65219 9.9566 3.67161 9.34885 3.39583 9.15988C2.9464 8.84324 2.74722 8.5317 2.89533 8.14356C2.99747 7.87799 3.24772 7.77584 3.50819 7.77584C3.5899 7.77584 3.67161 7.78606 3.75333 7.80138C4.24872 7.90863 4.7288 8.15377 5.00458 8.22527C5.04033 8.23549 5.07098 8.2406 5.10673 8.2406C5.25483 8.2406 5.3059 8.16399 5.29569 7.99545C5.26505 7.45409 5.18844 6.40202 5.27526 5.41634C5.39273 4.06294 5.82683 3.3888 6.34776 2.79637C6.59801 2.51037 7.76755 1.27443 10.0096 1.27443C12.2516 1.27443 13.4212 2.50526 13.6714 2.79126C14.1924 3.38369 14.6265 4.05783 14.7439 5.41123C14.8308 6.39691 14.7541 7.44899 14.7184 7.99034C14.7082 8.1691 14.7593 8.23549 14.9074 8.23549C14.9431 8.23549 14.9738 8.23038 15.0095 8.22017C15.2853 8.15377 15.7654 7.90352 16.2608 7.79627C16.3425 7.77584 16.4242 7.77074 16.5059 7.77074C16.7664 7.77074 17.0166 7.87288 17.1188 8.13845C17.2669 8.5266 17.0677 8.83813 16.6183 9.15478C16.3476 9.34374 15.367 9.95149 15.1423 10.1558C14.9125 10.3652 14.9431 10.5286 14.9686 10.738C14.9891 10.9116 15.4845 13.2252 18.5794 14.7216C18.7633 14.8084 19.0697 14.9974 18.5283 15.2987Z"
                          fill="#2D3A4A"
                        />
                      </svg>
                    </a>
                  </div>
                <!-- <div class="col-4 col-xl-2 col-lg-2 col-md-4">
                
                </div> -->
                  <div class="iconn">
                    <a :href="socials.twitter" target="_blank">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                      >
                        <path
                          d="M15.2726 1.58667H18.0838L11.9421 8.60625L19.1673 18.1583H13.51L9.07901 12.365L4.00894 18.1583H1.19601L7.76518 10.6501L0.833984 1.58667H6.63491L10.6401 6.88195L15.2726 1.58667ZM14.2859 16.4757H15.8436L5.78848 3.18095H4.11687L14.2859 16.4757Z"
                          fill="#2D3A4A"
                        />
                      </svg>
                    </a>
                  </div>
                <!-- <div class="col-4 col-xl-2 col-lg-2 col-md-4">
                </div> -->
                  <div class="iconn">
                    <a :href="socials.tiktok" target="_blank">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                      >
                        <path
                          d="M14.2265 0H10.8559V13.6232C10.8559 15.2464 9.55951 16.5797 7.94624 16.5797C6.33296 16.5797 5.03659 15.2464 5.03659 13.6232C5.03659 12.029 6.30416 10.7246 7.85983 10.6667V7.24639C4.43161 7.30433 1.66602 10.1159 1.66602 13.6232C1.66602 17.1594 4.48923 20 7.97506 20C11.4608 20 14.284 17.1304 14.284 13.6232V6.63767C15.5516 7.56522 17.1073 8.11594 18.7493 8.14495V4.72464C16.2142 4.63768 14.2265 2.55072 14.2265 0Z"
                          fill="#2D3A4A"
                        />
                      </svg>
                    </a>
                  </div>
                <!-- <div class="col-4 col-xl-2 col-lg-2 col-md-4">
                </div> -->
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-xl-5 col-lg-5">
            <div class="form">
              <div class="inputs">
                <div class="input">
                  <label for="">{{ $t('name0') }}</label>
                  <input type="text" v-model="form.name" :placeholder="$t('name0')" />
                  <span class="error-msg" v-if="v$.name.$error">{{
                    v$.name.$errors[0].$message
                  }}</span>
                  <span class="error-msg" v-if="errors.name">{{
                    errors.name[0]
                  }}</span>
                </div>
                <div class="input">
                  <label for="">{{ $t('phone') }}</label>
                  <div class="w-100  d-flex align-items-center justify-content-between phonenum">
                  <input type="tel" maxlength="10" placeholder="3333-5555-9999-55" name="" v-model="form.phone" />
                  <span class="numm login">966+</span>
                </div>
                  <span class="error-msg" v-if="v$.phone.$error">{{
                    v$.phone.$errors[0].$message
                  }}</span>
                  <span class="error-msg"  v-if="errors.phone">{{
                    errors.phone[0]
                  }}</span>
                </div>
                <div class="input">
                  <label for="">{{ $t('email') }}</label>
                  <input type="email" v-model="form.email" placeholder="Demo@icloud.com" />
                  <span class="error-msg" v-if="v$.email.$error">{{
                    v$.email.$errors[0].$message
                  }}</span>
                  <span class="error-msg" v-if="errors.email">{{
                    errors.email[0]
                  }}</span>
                </div>
                <div class="input">
                  <span> {{ $t('cv') }} </span>
                  <label class="resume" for="resume-career">
                    <div class="icon">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="30"
                        height="30"
                        viewBox="0 0 30 30"
                        fill="none"
                      >
                        <path
                          d="M16.6445 6.60375V0.0625H2.11133C1.6472 0.0625 1.20208 0.246874 0.873891 0.575063C0.545703 0.903252 0.361328 1.34837 0.361328 1.8125V27.7663C0.361328 28.9638 1.14633 29.9375 2.11133 29.9375H22.2501C21.8728 29.5216 21.6636 28.9803 21.6632 28.4188V26.715H19.9601C19.3584 26.715 18.7813 26.476 18.3558 26.0505C17.9304 25.625 17.6913 25.048 17.6913 24.4463C17.6913 23.8445 17.9304 23.2675 18.3558 22.842C18.7813 22.4165 19.3584 22.1775 19.9601 22.1775H21.6638V20.4737C21.6644 20.0657 21.7748 19.6654 21.9835 19.3148C22.1922 18.9642 22.4914 18.6763 22.8498 18.4812C23.2082 18.2862 23.6125 18.1913 24.0202 18.2065C24.4279 18.2217 24.8241 18.3464 25.167 18.5675V8.505H18.5457C18.0417 8.50434 17.5585 8.30382 17.202 7.94741C16.8456 7.591 16.6451 7.10779 16.6445 6.60375ZM10.0626 10.9469H15.5626C15.662 10.9469 15.7574 10.9864 15.8277 11.0567C15.8981 11.127 15.9376 11.2224 15.9376 11.3219C15.9376 11.4213 15.8981 11.5167 15.8277 11.587C15.7574 11.6574 15.662 11.6969 15.5626 11.6969H10.0626C9.96312 11.6969 9.86774 11.6574 9.79741 11.587C9.72709 11.5167 9.68758 11.4213 9.68758 11.3219C9.68758 11.2224 9.72709 11.127 9.79741 11.0567C9.86774 10.9864 9.96312 10.9469 10.0626 10.9469ZM5.09445 10.9469H7.43758C7.53703 10.9469 7.63242 10.9864 7.70274 11.0567C7.77307 11.127 7.81258 11.2224 7.81258 11.3219C7.81258 11.4213 7.77307 11.5167 7.70274 11.587C7.63242 11.6574 7.53703 11.6969 7.43758 11.6969H5.09633C4.99687 11.6969 4.90149 11.6574 4.83116 11.587C4.76084 11.5167 4.72133 11.4213 4.72133 11.3219C4.72133 11.2224 4.76084 11.127 4.83116 11.0567C4.90149 10.9864 4.99687 10.9469 5.09633 10.9469H5.09445ZM5.09445 14.625H7.43758C7.53703 14.625 7.63242 14.6645 7.70274 14.7348C7.77307 14.8052 7.81258 14.9005 7.81258 15C7.81258 15.0995 7.77307 15.1948 7.70274 15.2652C7.63242 15.3355 7.53703 15.375 7.43758 15.375H5.09633C4.99687 15.375 4.90149 15.3355 4.83116 15.2652C4.76084 15.1948 4.72133 15.0995 4.72133 15C4.72133 14.9005 4.76084 14.8052 4.83116 14.7348C4.90149 14.6645 4.99687 14.625 5.09633 14.625H5.09445ZM11.7438 19.0531H5.09633C4.99687 19.0531 4.90149 19.0136 4.83116 18.9433C4.76084 18.873 4.72133 18.7776 4.72133 18.6781C4.72133 18.5787 4.76084 18.4833 4.83116 18.413C4.90149 18.3426 4.99687 18.3031 5.09633 18.3031H11.7457C11.8452 18.3031 11.9405 18.3426 12.0109 18.413C12.0812 18.4833 12.1207 18.5787 12.1207 18.6781C12.1207 18.7776 12.0812 18.873 12.0109 18.9433C11.9405 19.0136 11.8452 19.0531 11.7457 19.0531H11.7438ZM10.0626 15.375C9.96312 15.375 9.86774 15.3355 9.79741 15.2652C9.72709 15.1948 9.68758 15.0995 9.68758 15C9.68758 14.9005 9.72709 14.8052 9.79741 14.7348C9.86774 14.6645 9.96312 14.625 10.0626 14.625H13.712C13.8114 14.625 13.9068 14.6645 13.9771 14.7348C14.0474 14.8052 14.087 14.9005 14.087 15C14.087 15.0995 14.0474 15.1948 13.9771 15.2652C13.9068 15.3355 13.8114 15.375 13.712 15.375H10.0626ZM18.3932 19.0531H14.1757C14.0762 19.0531 13.9809 19.0136 13.9105 18.9433C13.8402 18.873 13.8007 18.7776 13.8007 18.6781C13.8007 18.5787 13.8402 18.4833 13.9105 18.413C13.9809 18.3426 14.0762 18.3031 14.1757 18.3031H18.3951C18.4945 18.3031 18.5899 18.3426 18.6602 18.413C18.7306 18.4833 18.7701 18.5787 18.7701 18.6781C18.7701 18.7776 18.7306 18.873 18.6602 18.9433C18.5899 19.0136 18.4945 19.0531 18.3951 19.0531H18.3932ZM20.432 15.375H17.0188C16.9194 15.375 16.824 15.3355 16.7537 15.2652C16.6833 15.1948 16.6438 15.0995 16.6438 15C16.6438 14.9005 16.6833 14.8052 16.7537 14.7348C16.824 14.6645 16.9194 14.625 17.0188 14.625H20.432C20.5314 14.625 20.6268 14.6645 20.6971 14.7348C20.7674 14.8052 20.807 14.9005 20.807 15C20.807 15.0995 20.7674 15.1948 20.6971 15.2652C20.6268 15.3355 20.5314 15.375 20.432 15.375ZM20.807 11.3219C20.807 11.4213 20.7674 11.5167 20.6971 11.587C20.6268 11.6574 20.5314 11.6969 20.432 11.6969H18.0001C17.9006 11.6969 17.8052 11.6574 17.7349 11.587C17.6646 11.5167 17.6251 11.4213 17.6251 11.3219C17.6251 11.2224 17.6646 11.127 17.7349 11.0567C17.8052 10.9864 17.9006 10.9469 18.0001 10.9469H20.4332C20.5324 10.9472 20.6275 10.9869 20.6976 11.0572C20.7676 11.1274 20.807 11.2226 20.807 11.3219Z"
                          fill="#90A3BF"
                        />
                        <path
                          d="M17.3945 0.586914V6.60441C17.395 6.90954 17.5165 7.20201 17.7323 7.4177C17.9481 7.6334 18.2407 7.75471 18.5458 7.75504H24.6314L17.3945 0.586914Z"
                          fill="#90A3BF"
                        />
                        <path
                          d="M27.9052 22.9276H25.8264C25.727 22.9276 25.6316 22.8881 25.5612 22.8177C25.4909 22.7474 25.4514 22.652 25.4514 22.5526V20.4738C25.4514 20.071 25.2914 19.6847 25.0066 19.3999C24.7218 19.1151 24.3355 18.9551 23.9327 18.9551C23.5299 18.9551 23.1436 19.1151 22.8587 19.3999C22.5739 19.6847 22.4139 20.071 22.4139 20.4738V22.5526C22.4139 22.652 22.3744 22.7474 22.3041 22.8177C22.2337 22.8881 22.1384 22.9276 22.0389 22.9276H19.9602C19.5574 22.9276 19.1711 23.0876 18.8862 23.3724C18.6014 23.6572 18.4414 24.0435 18.4414 24.4463C18.4414 24.8491 18.6014 25.2354 18.8862 25.5202C19.1711 25.8051 19.5574 25.9651 19.9602 25.9651H22.0389C22.1384 25.9651 22.2337 26.0046 22.3041 26.0749C22.3744 26.1452 22.4139 26.2406 22.4139 26.3401V28.4188C22.4139 28.8216 22.5739 29.2079 22.8587 29.4927C23.1436 29.7776 23.5299 29.9376 23.9327 29.9376C24.3355 29.9376 24.7218 29.7776 25.0066 29.4927C25.2914 29.2079 25.4514 28.8216 25.4514 28.4188V26.3401C25.4514 26.2406 25.4909 26.1452 25.5612 26.0749C25.6316 26.0046 25.727 25.9651 25.8264 25.9651H27.9052C28.308 25.9651 28.6943 25.8051 28.9791 25.5202C29.2639 25.2354 29.4239 24.8491 29.4239 24.4463C29.4239 24.0435 29.2639 23.6572 28.9791 23.3724C28.6943 23.0876 28.308 22.9276 27.9052 22.9276Z"
                          fill="#90A3BF"
                        />
                      </svg>
                      <span> {{ $t('cv2') }} </span>
                    </div>
                    <input type="file" @change="onFileChange" id="resume-career" />
                  </label>
                  <span class="word"
                     >{{ $t('cv3') }} </span
                  >
                  <span class="error-msg" v-if="v$.cv.$error">{{
                    v$.cv.$errors[0].$message
                  }}</span>
                  <span class="error-msg" v-if="errors.cv">{{
                    errors.cv[0]
                  }}</span>
                </div>
                <div class="d-flex justify-content-center justify-content-xl-start justify-content-lg-start">
                <button @click="sendContact()" class="gap-2 align-items-center">
                {{ $t('conf') }}
                <v-progress-circular v-if="pending2"   indeterminate :size="25" :width="4"></v-progress-circular>
                </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <Loader v-if="pending"></Loader>
  </div>
</template>

<script setup>
import { useToast } from 'vue-toastification'
const toast = useToast();
import useValidate from "@vuelidate/core";
import {
  required,
  email,
  sameAs,
  minLength,
  helpers,
} from "@vuelidate/validators";
import axios from "axios";
// import { createToast } from "mosha-vue-toastify";
// import "mosha-vue-toastify/dist/style.css";
const localePath = useLocalePath();
const { locale, setLocale } = useI18n();
let activeBoxId = ref(null);
let form = ref({
  name: "",
  email: "",
  phone: "",
  cv: "",
});
const onFileChange = (e) =>{
      var files = e.target.files || e.dataTransfer.files;
      if (!files.length)
        return;
      form.value.cv = (files[0]);
    }

    let value1 = ref("value is required");
let value2 = ref("The email field is required");
let value3 = ref("Invalid email format");
if (locale.value == "ar") {
    value1.value = "هذا الحقل مطلوب";
    value2.value = "حقل البريد الإلكتروني مطلوب";
    value3.value = "تنسيق البريد الإلكتروني غير صالح";
} else {
    value1.value = "value is required";
    value2.value = "The email field is required";
    value3.value = "Invalid email format";
}
const rules = computed(() => {
  return {
    name: { required: helpers.withMessage(value1.value, required) },
        phone: { required: helpers.withMessage(value1.value, required) },
        email: {
            required: helpers.withMessage(value2.value, required),
            email: helpers.withMessage(value3.value, email),
        },
    cv: { required: helpers.withMessage(value1.value, required)  },
  };
});




let title = ref("تم الاشتراك بنجاح");

if (locale.value == 'ar') {
  title.value = 'تم الاشتراك بنجاح';
} else {
  title.value = 'You have successfully subscribed'
}
const v$ = useValidate(rules, form);
let pending = ref(true);
let pending2 = ref(false);
let errors = ref([]);
const sendContact = async () => {
  let check = await v$.value.$validate();
  let formBody = new FormData();
  formBody.append("name", form.value.name);
  formBody.append("phone", form.value.phone);
  formBody.append("email", form.value.email);
  formBody.append("cv", form.value.cv);
  if (check) {
    pending2.value = true;
    try {
      let result = await axios.post(`${getUrl()}/career/store/${activeBoxId.value}`, formBody, {
        headers: {
          "Content-Language": `${locale.value}`,
        },
      });

      if (result.status >= 200) {
        errors.value = [];
    pending2.value = false;
        // createToast(
        //   {
        //     title: "تم الاشتراك بنجاح",
        //   },
        //   {
        //     type: "success",
        //     transition: "bounce",
        //     showIcon: "true",
        //     timeout: 3000,
        //     toastBackgroundColor: "#dcb63b",
        //   }
        // );
        toast.success(title.value, {
          position: locale.value == 'ar' ? "top-right" : "top-left",
            timeout: 3000,
            closeOnClick: true,
            pauseOnFocusLoss: true,
            pauseOnHover: true,
            draggable: true,
            draggablePercent: 0.6,
            showCloseButtonOnHover: false,
            hideProgressBar: true,
            closeButton: "button",
            icon: true,
            class: 'toast-container',
             rtl: locale.value == 'ar' ? true : false
});
      }
    } catch (errorss) {
      if (errorss.response) {
       pending2.value = false;
        errors.value = errorss.response.data.errors;
      }
    }
  }
};

let contactData = ref([]);
let socials = ref();
const getContactData = async () => {
  let result = await axios.get(`${getUrl()}/career`, {
    headers: {
      "Content-Language": `${locale.value}`,
    },
  });

  if (result.status == 200) {
    contactData.value = result.data.data;
    activeBoxId.value = contactData.value[0].id;
  }
};
const getSocialsData = async () => {
  let result = await axios.get(`${getUrl()}/social`, {
    headers: {
      "Content-Language": `${locale.value}`,
    },
  });

  if (result.status == 200) {
    socials.value = result.data.data;
    pending.value = false;
  }
};


useHead({
  title: locale.value == 'ar' ? 'الوظائف' : 'careers'
});

onMounted(() => {
  getContactData();
  getSocialsData();
});
</script>


<style lang="scss" scoped></style>
